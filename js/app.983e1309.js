(function(e){function t(t){for(var n,l,r=t[0],s=t[1],d=t[2],u=0,f=[];u<r.length;u++)l=r[u],Object.prototype.hasOwnProperty.call(o,l)&&o[l]&&f.push(o[l][0]),o[l]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);c&&c(t);while(f.length)f.shift()();return i.push.apply(i,d||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],n=!0,r=1;r<a.length;r++){var s=a[r];0!==o[s]&&(n=!1)}n&&(i.splice(t--,1),e=l(l.s=a[0]))}return e}var n={},o={app:0},i=[];function l(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.m=e,l.c=n,l.d=function(e,t,a){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)l.d(a,n,function(t){return e[t]}.bind(null,n));return a},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/map_publish1/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],s=r.push.bind(r);r.push=t,r=r.slice();for(var d=0;d<r.length;d++)t(r[d]);var c=s;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("cd49")},1643:function(e){e.exports=JSON.parse('{"data":[{"type":"fbx","folderPath":"http://localhost:8080/assets/","filePath":"Assem1 v1.fbx","layerName":"bldg_葉本家住宅(ダミー)","lnglat":{"lng":135.78518227666942,"lat":34.65125578398946},"scale":{"x":0.001,"y":0.001,"z":0.001},"rotDeg":-90,"bldgIds":[1283116391086280,945294664780595]},{"type":"fbx","folderPath":"http://localhost:8080/assets/","filePath":"Assem1 v1.fbx","layerName":"bldg_本家菊屋（お菓子司）(ダミー)","lnglat":{"lng":135.7832776354353,"lat":34.64881768361106},"scale":{"x":0.001,"y":0.001,"z":0.001},"rotDeg":0,"bldgIds":[4353698205317365]},{"type":"fbx","folderPath":"http://localhost:8080/assets/","filePath":"Assem1 v1.fbx","layerName":"bldg_松田家住宅(ダミー)","lnglat":{"lng":135.7868898,"lat":34.64911379},"scale":{"x":0.001,"y":0.001,"z":0.001},"rotDeg":0,"bldgIds":[939528872040415]},{"type":"fbx","folderPath":"http://localhost:8080/assets/","filePath":"Assem1 v1.fbx","layerName":"bldg_町家物語館（旧川本家住宅）(ダミー)","lnglat":{"lng":135.7849416,"lat":34.645873550602715},"scale":{"x":0.001,"y":0.001,"z":0.0005},"rotDeg":0,"bldgIds":[4455189006839125]}]}')},2665:function(e,t,a){"use strict";a("a39c")},"26a2":function(e,t,a){},"3dcd":function(e,t,a){"use strict";a("26a2")},"5ae7":function(e,t,a){"use strict";a("f4e4")},"688a":function(e){e.exports=JSON.parse('{"BuildingInfo":[{"BuildingID":"4133308098940125","Name":"asmo大和郡山","Address":"〒639-1007 奈良県大和郡山市南郡山町５２９−２","InfoUrl":"https://www.asmo-na.jp/","IsMapBoxOrigin":"True","Space":{"SpaceID":"0","BusinessStartTime":"1600","BusinessEndTime":"2400","PeopleCount":[{"Time":"0800","TimeValue":"2"},{"Time":"0900","TimeValue":"3"},{"Time":"1000","TimeValue":"4"}]}},{"BuildingID":"3177385161686185","Name":"三の丸駐輪場(仮設)","Address":"〒639-1007 奈良県大和郡山市南郡山町５２０−４","InfoUrl":"https://www.google.com/","IsMapBoxOrigin":"False","Space":{"SpaceID":"0","BusinessStartTime":"1500","BusinessEndTime":"2400","PeopleCount":[{"Time":"0800","TimeValue":"5"},{"Time":"0900","TimeValue":"3"},{"Time":"1000","TimeValue":"2"}]}},{"BuildingID":"3174744383841225","Name":"お店A","Address":"〒639-1007 奈良県大和郡山市南郡山町〇〇−◯","InfoUrl":"https://www.google.com/","IsMapBoxOrigin":"False","Space":{"SpaceID":"0","BusinessStartTime":"0900","BusinessEndTime":"1900","PeopleCount":[{"Time":"0800","TimeValue":"6"},{"Time":"0900","TimeValue":"1"},{"Time":"1000","TimeValue":"4"}]}},{"BuildingID":"386509289407355","Name":"お店B","Address":"〒639-1007 奈良県大和郡山市南郡山町〇〇−◯","InfoUrl":"https://www.google.com/","IsMapBoxOrigin":"False","Space":{"SpaceID":"0","BusinessStartTime":"0900","BusinessEndTime":"1900","PeopleCount":[{"Time":"0800","TimeValue":"1"},{"Time":"0900","TimeValue":"2"},{"Time":"1000","TimeValue":"3"},{"Time":"1100","TimeValue":"4"},{"Time":"1200","TimeValue":"5"}]}},{"BuildingID":"470682087801865","Name":"お店C","Address":"〒639-1007 奈良県大和郡山市南郡山町〇〇−◯","InfoUrl":"https://www.google.com/","IsMapBoxOrigin":"False","Space":{"SpaceID":"0","BusinessStartTime":"0900","BusinessEndTime":"2400","PeopleCount":[{"Time":"1500","TimeValue":"8"},{"Time":"1600","TimeValue":"7"},{"Time":"1700","TimeValue":"6"},{"Time":"1800","TimeValue":"5"},{"Time":"1900","TimeValue":"4"},{"Time":"2000","TimeValue":"3"}]}}]}')},7640:function(e){e.exports=JSON.parse('{"map_center":{"lng":135.7827167223373,"lat":34.64708755203167},"hideBldgIds":[],"geojsonPath":"http://localhost:8080/assets/features.geojson","isCreateGeojsonBldgLayer":false,"color":{"selectedBuilding":"#0000FF","highlightBuildings":"#ff4500","relatedBuildings":"#000000","notRelatedBuilding":"#ffffff"}}')},a39c:function(e,t,a){},a8f0:function(e){e.exports=JSON.parse('{"modelOrigin":{"lng":135.78111946524226,"lat":34.64685839956293},"modelAltitude":0,"data":[{"type":"obj","folderPath":"http://localhost:8080/assets/Ryukin_Goldfish/","mtlPath":"13001_Ryukin_Goldfish_v1_L3.mtl","filePath":"13001_Ryukin_Goldfish_v1_L3.obj","pos":{"x":266,"y":0,"z":20},"scaleNum":1},{"type":"fbx","folderPath":"http://localhost:8080/assets/","filePath":"kingyo.fbx","pos":{"x":286,"y":0,"z":60},"scaleNum":10},{"type":"obj","folderPath":"http://localhost:8080/assets/Ryukin_Goldfish/","mtlPath":"13001_Ryukin_Goldfish_v1_L3.mtl","filePath":"13001_Ryukin_Goldfish_v1_L3.obj","pos":{"x":246,"y":116,"z":20},"scaleNum":1},{"type":"fbx","folderPath":"http://localhost:8080/assets/","filePath":"kingyo.fbx","pos":{"x":266,"y":116,"z":60},"scaleNum":10},{"type":"obj","folderPath":"http://localhost:8080/assets/Ryukin_Goldfish/","mtlPath":"13001_Ryukin_Goldfish_v1_L3.mtl","filePath":"13001_Ryukin_Goldfish_v1_L3.obj","pos":{"x":256,"y":213,"z":20},"scaleNum":1},{"type":"fbx","folderPath":"http://localhost:8080/assets/","filePath":"kingyo.fbx","pos":{"x":206,"y":213,"z":60},"scaleNum":10},{"type":"obj","folderPath":"http://localhost:8080/assets/Ryukin_Goldfish/","mtlPath":"13001_Ryukin_Goldfish_v1_L3.mtl","filePath":"13001_Ryukin_Goldfish_v1_L3.obj","pos":{"x":166,"y":500,"z":20},"scaleNum":1},{"type":"fbx","folderPath":"http://localhost:8080/assets/","filePath":"kingyo.fbx","pos":{"x":166,"y":500,"z":60},"scaleNum":10},{"type":"obj","folderPath":"http://localhost:8080/assets/Ryukin_Goldfish/","mtlPath":"13001_Ryukin_Goldfish_v1_L3.mtl","filePath":"13001_Ryukin_Goldfish_v1_L3.obj","pos":{"x":146,"y":-128,"z":20},"scaleNum":1},{"type":"fbx","folderPath":"http://localhost:8080/assets/","filePath":"kingyo.fbx","pos":{"x":136,"y":-128,"z":60},"scaleNum":10},{"type":"obj","folderPath":"http://localhost:8080/assets/Ryukin_Goldfish/","mtlPath":"13001_Ryukin_Goldfish_v1_L3.mtl","filePath":"13001_Ryukin_Goldfish_v1_L3.obj","pos":{"x":306,"y":-325,"z":20},"scaleNum":1},{"type":"fbx","folderPath":"http://localhost:8080/assets/","filePath":"kingyo.fbx","pos":{"x":316,"y":-325,"z":60},"scaleNum":10}]}')},cd49:function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("7a23"),o={class:"container-fluid"},i={class:"row"},l={class:"col-3"},r={class:"col-9"};function s(e,t,a,s,d,c){var u=Object(n["resolveComponent"])("BusinessHour"),f=Object(n["resolveComponent"])("TestChart"),p=Object(n["resolveComponent"])("Map");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",o,[Object(n["createElementVNode"])("div",i,[Object(n["createElementVNode"])("div",l,[Object(n["createVNode"])(u,{onOpenBldgId:c.updateOpenBldgId,tgtBldgId:c.getTgtBldgId},null,8,["onOpenBldgId","tgtBldgId"]),Object(n["createVNode"])(f,{selectBldgids:d.bldgIdFromMap},null,8,["selectBldgids"])]),Object(n["createElementVNode"])("div",r,[Object(n["createVNode"])(p,{onUploadBldgId:c.uploadBldgId1,highlightBldgIds:d.highlightBldgIdsFromApp,tgtBldgIds:d.tgtBldgIdsFromApp},null,8,["onUploadBldgId","highlightBldgIds","tgtBldgIds"])])])])}var d=function(e){return Object(n["pushScopeId"])("data-v-240df5f9"),e=e(),Object(n["popScopeId"])(),e},c=d((function(){return Object(n["createElementVNode"])("div",{id:"map"},null,-1)})),u=[c];function f(e,t,a,o,i,l){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",null,u)}var p=a("2909"),g=(a("99af"),a("d3b7"),a("d81d"),a("159b"),a("25f0"),a("7640")),h=a("a8f0"),m=a("1643"),b=a("688a"),y=a("e192"),v=a.n(y),x=(a("ac6d"),a("5a89")),I=a("34ad"),B=a("4086"),j=a("e642"),O=a("8710"),P=Object(n["defineComponent"])({emits:["add","uploadBldgId"],name:"HelloWorld",props:{highlightBldgIds:Array},setup:function(e,t){var a=!0,o=[];for(var i in b.BuildingInfo){var l=parseInt(b.BuildingInfo[i].BuildingID);o.push(l)}var r=Object(n["reactive"])({selectBldgids:[],count:0}),s=function(){r.count=r.count+1,t.emit("add",r.count)};return Object(n["onMounted"])((function(){v.a.accessToken="pk.eyJ1Ijoia2F0b3NodW4iLCJhIjoiY2t0eWVjN3dvMDlzbjJub3c2YndiZTJvNiJ9.GbIeJ78HgWKX6sh2mKy2pA";var i=new v.a.Map({container:"map",style:"mapbox://styles/mapbox/light-v10",center:g.map_center,zoom:17,maxZoom:21,antialias:!0}),l=g.hideBldgIds;for(var s in m.data){var d=m.data[s];l=l.concat(d.bldgIds)}var c=!0,u=Object(n["toRefs"])(e),f=u.highlightBldgIds;function b(){c||(i.setFilter("main-buildings",["all",["==","extrude","true"],[">","height",0],["!in","$id"].concat(Object(p["a"])(l)),["in","$id"].concat(Object(p["a"])(e.highlightBldgIds))]),i.setFilter("other-buildings",["all",["==","extrude","true"],[">","height",0],["!in","$id"].concat(Object(p["a"])(l)),["!in","$id"].concat(Object(p["a"])(e.highlightBldgIds)),["in","$id"].concat(o)]))}Object(n["watch"])(f,(function(){})),Object(n["effect"])((function(){e.highlightBldgIds;b()})),i.on("load",(function(){var t="road-label";i.addLayer({id:"main-buildings",source:"composite","source-layer":"building",filter:["all",["==","extrude","true"],[">","height",0],["!in","$id"].concat(Object(p["a"])(l)),["in","$id"].concat(Object(p["a"])(e.highlightBldgIds))],type:"fill-extrusion",minzoom:15,paint:{"fill-extrusion-color":g.color.highlightBuildings,"fill-extrusion-height":["number",["get","height"],5],"fill-extrusion-base":["number",["get","min_height"],0],"fill-extrusion-opacity":.6}},t),i.addLayer({id:"selected-main-building",source:"composite","source-layer":"building",type:"fill-extrusion",paint:{"fill-extrusion-color":g.color.selectedBuilding,"fill-extrusion-height":["number",["get","height"],5],"fill-extrusion-base":["number",["get","min_height"],0],"fill-extrusion-opacity":.6},filter:["in","$id",""]},t),i.addLayer({id:"other-buildings",source:"composite","source-layer":"building",filter:["all",["==","extrude","true"],[">","height",0],["!in","$id"].concat(Object(p["a"])(l)),["!in","$id"].concat(Object(p["a"])(e.highlightBldgIds)),["in","$id"].concat(o)],type:"fill-extrusion",minzoom:15,paint:{"fill-extrusion-color":g.color.relatedBuildings,"fill-extrusion-height":["number",["get","height"],5],"fill-extrusion-base":["number",["get","min_height"],0],"fill-extrusion-opacity":.6}},t),i.addLayer({id:"selected-other-building",source:"composite","source-layer":"building",type:"fill-extrusion",paint:{"fill-extrusion-color":g.color.selectedBuilding,"fill-extrusion-height":["number",["get","height"],5],"fill-extrusion-base":["number",["get","min_height"],0],"fill-extrusion-opacity":.6},filter:["in","$id",""]},t),i.addLayer({id:"not-related-building",source:"composite","source-layer":"building",type:"fill-extrusion",filter:["all",["==","extrude","true"],[">","height",0],["!in","$id"].concat(Object(p["a"])(l)),["!in","$id"].concat(Object(p["a"])(e.highlightBldgIds)),["!in","$id"].concat(o)],paint:{"fill-extrusion-color":g.color.notRelatedBuilding,"fill-extrusion-height":["number",["get","height"],5],"fill-extrusion-base":["number",["get","min_height"],0],"fill-extrusion-opacity":.6}},t);var a,n,r,s,d=h.modelOrigin,c=h.modelAltitude,u=[Math.PI/2*0,Math.PI/2*0,Math.PI/2*0],f=v.a.MercatorCoordinate.fromLngLat(d,c),b={translateX:f.x,translateY:f.y,translateZ:f.z,rotateX:u[0],rotateY:u[1],rotateZ:u[2],scale:f.meterInMercatorCoordinateUnits()},y=[],P={id:"kingyo",type:"custom",renderingMode:"3d",onAdd:function(e,t){a=new x["g"],n=new x["ib"];var o=new x["l"](16777215);o.position.set(0,-70,100).normalize(),n.add(o);var i=new x["l"](16777215);i.position.set(0,70,100).normalize(),n.add(i);var l=function(e){if(e.lengthComputable){var t=e.loaded/e.total*100;console.log(t+"% downloaded")}},d=function(e){console.error("obj loader error!")};function c(e,t,a,o,i){f.setPath(e),f.load(t,(function(t){t.preload(),p.setMaterials(t),p.setPath(e),p.load(a,(function(e){e.position.x=o.x,e.position.y=o.y,e.position.z=o.z,e.scale.x=i,e.scale.y=i,e.scale.z=i,n.add(e),y.push(e)}),l,d)}))}function u(e,t,a,o){g.setPath(e),g.load(t,(function(e){e.position.x=a.x,e.position.y=a.y,e.position.z=a.z,e.scale.x=o,e.scale.y=o,e.scale.z=o,n.add(e),y.push(e)}),l,d)}var f=new B["a"],p=new j["a"],g=new O["a"];for(var m in h.data){var b=h.data[m];"obj"==b.type?c(b.folderPath,b.mtlPath,b.filePath,new x["ub"](b.pos.x,b.pos.y,b.pos.z),b.scaleNum):"fbx"==b.type?u(b.folderPath,b.filePath,new x["ub"](b.pos.x,b.pos.y,b.pos.z),b.scaleNum):alert("floatList.jsonに対象外のタイプのファイル定義があります")}r=e,s=new x["xb"]({canvas:e.getCanvas(),context:t,antialias:!0}),s.autoClear=!1},render:function(e,t){var o=(new x["L"]).makeRotationAxis(new x["ub"](1,0,0),b.rotateX),i=(new x["L"]).makeRotationAxis(new x["ub"](0,1,0),b.rotateY),l=(new x["L"]).makeRotationAxis(new x["ub"](0,0,1),b.rotateZ),d=(new x["L"]).fromArray(t),c=(new x["L"]).makeTranslation(b.translateX,b.translateY,b.translateZ).scale(new x["ub"](b.scale,-b.scale,b.scale)).multiply(o).multiply(i).multiply(l);a.projectionMatrix=d.multiply(c),s.resetState(),requestAnimationFrame((function(){})),y.forEach((function(e){w(e)})),s.render(n,a),r.triggerRepaint()}};function w(e){var t=new Date,a=!1;Math.round(t.getMinutes())%2===0&&(a=!0);var n=2,o=1;e.rotation.z=a?Math.PI/2*2:0;var i=1;a&&(i=-1),e.position.x+=i*n*(.7-Math.random()),e.position.z+=o*(.5-Math.random())}function T(e,t,a,n,o,l,r){if("gltf"==e||"glb"==e||"fbx"==e){var s,d,c,u,f=0,p=[Math.PI/2*1,Math.PI/2*0,Math.PI/2*0],g=v.a.MercatorCoordinate.fromLngLat(t,f),h={translateX:g.x,translateY:g.y,translateZ:g.z,rotateX:p[0],rotateY:p[1],rotateZ:p[2],scale:g.meterInMercatorCoordinateUnits()},m={id:a,type:"custom",renderingMode:"3d",onAdd:function(t,a){s=new x["g"],d=new x["ib"];var i=new x["l"](16777215);i.position.set(0,-70,100).normalize(),d.add(i);var f=new x["l"](16777215);f.position.set(0,70,100).normalize(),d.add(f);var p=function(e){if(e.lengthComputable){var t=e.loaded/e.total*100;console.log(t+"% downloaded")}},g=function(t){alert(e+" loader error:"+t)};if("gltf"==e||"glb"==e){var h=new I["a"];h.load(n+o,(function(e){e.scene.rotation.y=r/90*(Math.PI/2),e.scene.scale.x=l.x,e.scene.scale.y=l.y,e.scene.scale.z=l.z,d.add(e.scene)}),p,g)}else if("fbx"==e){var m=new O["a"];m.setPath(n),m.load(o,(function(e){e.rotation.y=r/90*(Math.PI/2),e.scale.x=l.x,e.scale.y=l.y,e.scale.z=l.z,d.add(e)}),p,g)}c=t,u=new x["xb"]({canvas:t.getCanvas(),context:a,antialias:!0}),u.autoClear=!1},render:function(e,t){var a=(new x["L"]).makeRotationAxis(new x["ub"](1,0,0),h.rotateX),n=(new x["L"]).makeRotationAxis(new x["ub"](0,1,0),h.rotateY),o=(new x["L"]).makeRotationAxis(new x["ub"](0,0,1),h.rotateZ),i=(new x["L"]).fromArray(t),l=(new x["L"]).makeTranslation(h.translateX,h.translateY,h.translateZ).scale(new x["ub"](h.scale,-h.scale,h.scale)).multiply(a).multiply(n).multiply(o);s.projectionMatrix=i.multiply(l),u.resetState(),u.render(d,s),c.triggerRepaint()}};i.addLayer(m,"waterway-label")}else alert("createBldgLayer：読み込み対象外のファイル形式です："+e)}for(var _ in i.addLayer(P,"waterway-label"),m.data){var N=m.data[_];"gltf"!=N.type&&"glb"!=N.type&&"fbx"!=N.type||T(N.type,N.lnglat,N.layerName,N.folderPath,N.filePath,new x["ub"](N.scale.x,N.scale.y,N.scale.z),N.rotDeg)}function S(){i.addSource("floorplan",{type:"geojson",data:g.geojsonPath}),i.addLayer({id:"room-extrusion",type:"fill-extrusion",source:"floorplan",paint:{"fill-extrusion-color":["get","color"],"fill-extrusion-height":["get","height"],"fill-extrusion-base":["get","base_height"],"fill-extrusion-opacity":.5}})}g.isCreateGeojsonBldgLayer&&S()})),i.on("click",(function(a){var n=[new v.a.Point(a.point.x-5,a.point.y-5),new v.a.Point(a.point.x+5,a.point.y+5)],s=i.queryRenderedFeatures(n,{layers:["other-buildings"]}),d=s.map((function(e){return e.id}));if(d.length>0){var c=[];d.forEach((function(e,t){var a;void 0!=e&&(a="string"==typeof e?e.toString():String(e),c.push(a))})),r.selectBldgids=c,t.emit("uploadBldgId",r.selectBldgids)}i.setFilter("other-buildings",["all",["==","extrude","true"],[">","height",0],["!in","$id"].concat(Object(p["a"])(l)),["!in","$id"].concat(Object(p["a"])(e.highlightBldgIds)),["in","$id"].concat(o),["!in","$id"].concat(Object(p["a"])(d))]),i.setFilter("selected-other-building",["in","$id"].concat(Object(p["a"])(d)))})),i.on("click",(function(a){var n=[new v.a.Point(a.point.x-5,a.point.y-5),new v.a.Point(a.point.x+5,a.point.y+5)],o=i.queryRenderedFeatures(n,{layers:["main-buildings"]}),s=o.map((function(e){return e.id}));if(s.length>0){var d=[];s.forEach((function(e,t){var a;void 0!=e&&(a="string"==typeof e?e.toString():String(e),d.push(a))})),r.selectBldgids=d,t.emit("uploadBldgId",r.selectBldgids)}i.setFilter("main-buildings",["all",["==","extrude","true"],[">","height",0],["!in","$id"].concat(Object(p["a"])(l)),["in","$id"].concat(Object(p["a"])(e.highlightBldgIds)),["!in","$id"].concat(Object(p["a"])(s))]),i.setFilter("selected-main-building",["in","$id"].concat(Object(p["a"])(s)))})),a&&i.on("click",(function(e){var t=[new v.a.Point(e.point.x-5,e.point.y-5),new v.a.Point(e.point.x+5,e.point.y+5)],a=i.queryRenderedFeatures(t,{layers:["not-related-building"]}),n=a.map((function(e){return e.id}));n.length>0&&alert("建物情報がない建物が選択されました。（選択した建物のID："+n)})),c=!1})),{state:r,increment:s}}}),w=(a("2665"),a("6b0d")),T=a.n(w);const _=T()(P,[["render",f],["__scopeId","data-v-240df5f9"]]);var N=_,S=function(e){return Object(n["pushScopeId"])("data-v-4a85d836"),e=e(),Object(n["popScopeId"])(),e},k=S((function(){return Object(n["createElementVNode"])("h1",null,"◆店舗情報",-1)})),V={class:"wrapper"};function z(e,t,a,o,i,l){var r=Object(n["resolveComponent"])("BarChart");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",null,[k,Object(n["createElementVNode"])("p",null,"店舗名: "+Object(n["toDisplayString"])(e.state.bldgName),1),Object(n["createElementVNode"])("p",null,"住所: "+Object(n["toDisplayString"])(e.state.bldgAddress),1),Object(n["createElementVNode"])("p",null,[Object(n["createElementVNode"])("button",{onClick:t[0]||(t[0]=function(){return e.showWebPage&&e.showWebPage.apply(e,arguments)})},"ホームページ表示")]),Object(n["createElementVNode"])("div",V,[Object(n["createVNode"])(r,{chartData:e.state.barData},null,8,["chartData"])])])}a("a9e3");var C=a("9b4a"),L=a("b48c"),M=[],A=[];C["Chart"].register.apply(C["Chart"],Object(p["a"])(C["registerables"]));var R=Object(n["defineComponent"])({components:{BarChart:L["BarChart"]},props:{selectBldgids:Array},created:function(){},setup:function(e,t){var a=Object(n["reactive"])({barData:{labels:[],datasets:[{label:"来店人数",data:[],backgroundColor:["rgba(54, 162, 235)"]}]},bldgName:"",bldgAddress:"",bldgInfoUrl:""});function o(e){for(var t in b.BuildingInfo){var a=b.BuildingInfo[t];if(a.BuildingID==String(e))return a.Name}return"notFound"}function i(e){for(var t in b.BuildingInfo){var a=b.BuildingInfo[t];if(a.BuildingID==String(e))return a.Address}return"notFound"}function l(e){for(var t in b.BuildingInfo){var a=b.BuildingInfo[t];if(a.BuildingID==String(e))return a.InfoUrl}return"notFound"}function r(e){for(var t in M=[],A=[],b.BuildingInfo)if(b.BuildingInfo[t].BuildingID==String(e))for(var a in b.BuildingInfo[t].Space.PeopleCount)M.push(b.BuildingInfo[t].Space.PeopleCount[a].Time),A.push(Number(b.BuildingInfo[t].Space.PeopleCount[a].TimeValue));0==M.length&&alert("TestData.jsonにデータのある建物を選択してください。選択された建物のID："+e);var n={labels:M,datasets:[{label:"来店人数",data:A,backgroundColor:["rgba(54, 162, 235)"]}]};return n}Object(n["effect"])((function(){e.selectBldgids.length>0&&(a.barData=r(e.selectBldgids[0]),a.bldgName=o(e.selectBldgids[0]),a.bldgAddress=i(e.selectBldgids[0]),a.bldgInfoUrl=l(e.selectBldgids[0]))}));var s=function(){window.open(a.bldgInfoUrl)};return{state:a,showWebPage:s}}});a("5ae7");const D=T()(R,[["render",z],["__scopeId","data-v-4a85d836"]]);var F=D,E=function(e){return Object(n["pushScopeId"])("data-v-093dfefa"),e=e(),Object(n["popScopeId"])(),e},G=E((function(){return Object(n["createElementVNode"])("h1",null,"◆開店店舗表示",-1)})),$=Object(n["createTextVNode"])(" 入力した時間帯にずっと空いている店舗が分かります。 "),U=Object(n["createStaticVNode"])('<option value="-" selected data-v-093dfefa>--:--</option><option value="1700" data-v-093dfefa>17:00</option><option value="1800" data-v-093dfefa>18:00</option><option value="1900" data-v-093dfefa>19:00</option><option value="2000" data-v-093dfefa>20:00</option><option value="2100" data-v-093dfefa>21:00</option><option value="2200" data-v-093dfefa>22:00</option><option value="2300" data-v-093dfefa>23:00</option><option value="2400" data-v-093dfefa>24:00</option>',9),J=[U],Y=Object(n["createTextVNode"])(" ～ "),Z=Object(n["createStaticVNode"])('<option value="-" selected data-v-093dfefa>--:--</option><option value="1800" data-v-093dfefa>18:00</option><option value="1900" data-v-093dfefa>19:00</option><option value="2000" data-v-093dfefa>20:00</option><option value="2100" data-v-093dfefa>21:00</option><option value="2200" data-v-093dfefa>22:00</option><option value="2300" data-v-093dfefa>23:00</option><option value="2400" data-v-093dfefa>24:00</option>',8),X=[Z];function W(e,t,a,o,i,l){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",null,[G,$,Object(n["createElementVNode"])("ul",null,[Object(n["createElementVNode"])("select",{name:"startTime",onChange:t[0]||(t[0]=function(t){return e.GetStartTime(t)})},J,32),Y,Object(n["createElementVNode"])("select",{name:"endTime",onChange:t[1]||(t[1]=function(t){return e.GetEndTime(t)})},X,32)])])}var q=Object(n["defineComponent"])({emits:["openBldgId"],name:"Test",props:{highlightBldgIds:Array,startTime:String,endTime:String},setup:function(e,t){var a=Object(n["toRefs"])(e),o=a.startTime;o="-";var i=Object(n["toRefs"])(e),l=i.endTime;function r(e){o=e.target.value,"-"!=l&&d()}function s(e){l=e.target.value,"-"!=o&&d()}function d(){var e=[];for(var a in b.BuildingInfo){if(parseInt(b.BuildingInfo[a].Space.BusinessStartTime)<=parseInt(o)&&parseInt(b.BuildingInfo[a].Space.BusinessEndTime)>=parseInt(l)){var n=parseInt(b.BuildingInfo[a].BuildingID);e.push(n)}t.emit("openBldgId",e)}}return l="-",{GetStartTime:r,GetEndTime:s,TestFunction:d}}});a("3dcd");const H=T()(q,[["render",W],["__scopeId","data-v-093dfefa"]]);var K=H,Q={data:function(){return{count1:0,totalcount:0,bldgIdFromMap:"",highlightBldgIdsFromApp:[],tgtBldgIdsFromApp:[],bldgId:"99999"}},components:{Map:N,TestChart:F,BusinessHour:K},methods:{add1:function(e){this.count1=e,this.totalcount+=e},updateOpenBldgId:function(e){this.highlightBldgIdsFromApp=e},getTgtBldgId:function(e){this.tgtBldgIdsFromApp=e,alert(e)},uploadBldgId1:function(e){this.bldgIdFromMap=e}}};const ee=T()(Q,[["render",s]]);var te=ee,ae=(a("f9e3"),a("2dd8"),Object(n["createApp"])(te));ae.mount("#app")},f4e4:function(e,t,a){}});
//# sourceMappingURL=app.983e1309.js.map